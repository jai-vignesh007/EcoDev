{
 "Resources": {
  "CloudGuardianLanguageSnapshots001546C7": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "AttributeDefinitions": [
     {
      "AttributeName": "repoFullName",
      "AttributeType": "S"
     },
     {
      "AttributeName": "timestamp",
      "AttributeType": "S"
     }
    ],
    "BillingMode": "PAY_PER_REQUEST",
    "KeySchema": [
     {
      "AttributeName": "repoFullName",
      "KeyType": "HASH"
     },
     {
      "AttributeName": "timestamp",
      "KeyType": "RANGE"
     }
    ],
    "TableName": "CloudGuardianLanguageSnapshots"
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CloudGuardianLanguageSnapshots/Resource"
   }
  },
  "BackfillCoordinatorServiceRoleB8874AA6": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/BackfillCoordinator/ServiceRole/Resource"
   }
  },
  "BackfillCoordinatorServiceRoleDefaultPolicyD0492A0D": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "CloudGuardianLanguageSnapshots001546C7",
          "Arn"
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "BackfillCoordinatorServiceRoleDefaultPolicyD0492A0D",
    "Roles": [
     {
      "Ref": "BackfillCoordinatorServiceRoleB8874AA6"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/BackfillCoordinator/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "BackfillCoordinator9E054EF1": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-135808934664-us-east-1",
     "S3Key": "14f86e4d61160d6a4965e3d5e3610df0014d35f512e89eb2ce71fa43abcd4da7.zip"
    },
    "Environment": {
     "Variables": {
      "LANGUAGE_TABLE_NAME": {
       "Ref": "CloudGuardianLanguageSnapshots001546C7"
      },
      "GITHUB_TOKEN": "",
      "GITHUB_USERNAME": "jai-vignesh007"
     }
    },
    "FunctionName": "cloudguardian-backfill-coordinator",
    "Handler": "index.handler",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "BackfillCoordinatorServiceRoleB8874AA6",
      "Arn"
     ]
    },
    "Runtime": "nodejs18.x",
    "Timeout": 300
   },
   "DependsOn": [
    "BackfillCoordinatorServiceRoleDefaultPolicyD0492A0D",
    "BackfillCoordinatorServiceRoleB8874AA6"
   ],
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/BackfillCoordinator/Resource",
    "aws:asset:path": "D:\\EcoDev",
    "aws:asset:is-bundled": true,
    "aws:asset:property": "Code"
   }
  },
  "BackfillCoordinatorInvokeFcyXBRX02EWa52GlFECQiCzDt0fdRUDi4mo4foC5aU148361A9": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "BackfillCoordinator9E054EF1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com"
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/BackfillCoordinator/InvokeFcyXBRX02EWa52GlF+ECQiCzDt0fdRUDi4mo4foC5aU="
   }
  },
  "LanguageFetcherServiceRole46A32BDF": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/LanguageFetcher/ServiceRole/Resource"
   }
  },
  "LanguageFetcherServiceRoleDefaultPolicyF58DBCA7": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "CloudGuardianLanguageSnapshots001546C7",
          "Arn"
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "LanguageFetcherServiceRoleDefaultPolicyF58DBCA7",
    "Roles": [
     {
      "Ref": "LanguageFetcherServiceRole46A32BDF"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/LanguageFetcher/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "LanguageFetcher20DF511E": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-135808934664-us-east-1",
     "S3Key": "5612da19a7621c5145d65c2679a8d323d2e7ac52aafe44b8b7b8ea90f2ff674a.zip"
    },
    "Environment": {
     "Variables": {
      "LANGUAGE_TABLE_NAME": {
       "Ref": "CloudGuardianLanguageSnapshots001546C7"
      },
      "GITHUB_TOKEN": ""
     }
    },
    "FunctionName": "cloudguardian-language-fetcher",
    "Handler": "index.handler",
    "MemorySize": 256,
    "Role": {
     "Fn::GetAtt": [
      "LanguageFetcherServiceRole46A32BDF",
      "Arn"
     ]
    },
    "Runtime": "nodejs18.x",
    "Timeout": 10
   },
   "DependsOn": [
    "LanguageFetcherServiceRoleDefaultPolicyF58DBCA7",
    "LanguageFetcherServiceRole46A32BDF"
   ],
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/LanguageFetcher/Resource",
    "aws:asset:path": "D:\\EcoDev",
    "aws:asset:is-bundled": true,
    "aws:asset:property": "Code"
   }
  },
  "LanguageFetcherInvokeFcyXBRX02EWa52GlFECQiCzDt0fdRUDi4mo4foC5aU5D5B057A": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "LanguageFetcher20DF511E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com"
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/LanguageFetcher/InvokeFcyXBRX02EWa52GlF+ECQiCzDt0fdRUDi4mo4foC5aU="
   }
  },
  "LanguageSnapshotterServiceRoleD7CE052A": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/LanguageSnapshotter/ServiceRole/Resource"
   }
  },
  "LanguageSnapshotterServiceRoleDefaultPolicy2D91A248": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "CloudGuardianLanguageSnapshots001546C7",
          "Arn"
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "LanguageSnapshotterServiceRoleDefaultPolicy2D91A248",
    "Roles": [
     {
      "Ref": "LanguageSnapshotterServiceRoleD7CE052A"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/LanguageSnapshotter/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "LanguageSnapshotter161C95E1": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-135808934664-us-east-1",
     "S3Key": "13a6e8ddfaed06bf99a2d7b1dd73bd4156db4354fe8a8ed79f135732cf038e16.zip"
    },
    "Environment": {
     "Variables": {
      "LANGUAGE_TABLE_NAME": {
       "Ref": "CloudGuardianLanguageSnapshots001546C7"
      },
      "GITHUB_TOKEN": ""
     }
    },
    "FunctionName": "cloudguardian-language-snapshotter",
    "Handler": "index.handler",
    "MemorySize": 256,
    "Role": {
     "Fn::GetAtt": [
      "LanguageSnapshotterServiceRoleD7CE052A",
      "Arn"
     ]
    },
    "Runtime": "nodejs18.x",
    "Timeout": 30
   },
   "DependsOn": [
    "LanguageSnapshotterServiceRoleDefaultPolicy2D91A248",
    "LanguageSnapshotterServiceRoleD7CE052A"
   ],
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/LanguageSnapshotter/Resource",
    "aws:asset:path": "D:\\EcoDev",
    "aws:asset:is-bundled": true,
    "aws:asset:property": "Code"
   }
  },
  "WebhookRouterServiceRole94972D52": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/WebhookRouter/ServiceRole/Resource"
   }
  },
  "WebhookRouterServiceRoleDefaultPolicy49DC97D2": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "lambda:InvokeFunction",
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "LanguageSnapshotter161C95E1",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "LanguageSnapshotter161C95E1",
             "Arn"
            ]
           },
           ":*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "WebhookRouterServiceRoleDefaultPolicy49DC97D2",
    "Roles": [
     {
      "Ref": "WebhookRouterServiceRole94972D52"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/WebhookRouter/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "WebhookRouter05ECC1AC": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-135808934664-us-east-1",
     "S3Key": "281add9292eea4f506524ea4d290f8a79518334700a43b03f9be9bf36f92e725.zip"
    },
    "FunctionName": "cloudguardian-webhook-router",
    "Handler": "index.handler",
    "Role": {
     "Fn::GetAtt": [
      "WebhookRouterServiceRole94972D52",
      "Arn"
     ]
    },
    "Runtime": "nodejs18.x",
    "Timeout": 10
   },
   "DependsOn": [
    "WebhookRouterServiceRoleDefaultPolicy49DC97D2",
    "WebhookRouterServiceRole94972D52"
   ],
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/WebhookRouter/Resource",
    "aws:asset:path": "D:\\EcoDev",
    "aws:asset:is-bundled": true,
    "aws:asset:property": "Code"
   }
  },
  "CloudGuardianApiF972561C": {
   "Type": "AWS::ApiGateway::RestApi",
   "Properties": {
    "Description": "API for CloudGuardian language tracking",
    "Name": "CloudGuardian Service"
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CloudGuardianApi/Resource"
   }
  },
  "CloudGuardianApiCloudWatchRole0651312C": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "apigateway.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"
       ]
      ]
     }
    ]
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CloudGuardianApi/CloudWatchRole/Resource"
   }
  },
  "CloudGuardianApiAccount9A2CDBF5": {
   "Type": "AWS::ApiGateway::Account",
   "Properties": {
    "CloudWatchRoleArn": {
     "Fn::GetAtt": [
      "CloudGuardianApiCloudWatchRole0651312C",
      "Arn"
     ]
    }
   },
   "DependsOn": [
    "CloudGuardianApiF972561C"
   ],
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CloudGuardianApi/Account"
   }
  },
  "CloudGuardianApiDeployment87E14234d820c5948262c8ed9b73f4f8ceeb50de": {
   "Type": "AWS::ApiGateway::Deployment",
   "Properties": {
    "Description": "API for CloudGuardian language tracking",
    "RestApiId": {
     "Ref": "CloudGuardianApiF972561C"
    }
   },
   "DependsOn": [
    "CloudGuardianApibackfillOPTIONSFDC13D46",
    "CloudGuardianApibackfillPOSTA870A606",
    "CloudGuardianApibackfillA47291D4",
    "CloudGuardianApiOPTIONSE677E9E1",
    "CloudGuardianApirepoownernamelanguagesGET24B4E438",
    "CloudGuardianApirepoownernamelanguagesOPTIONS7BE8E201",
    "CloudGuardianApirepoownernamelanguages8B2445DE",
    "CloudGuardianApirepoownernameOPTIONSBF8F6749",
    "CloudGuardianApirepoownernameB5AB33A8",
    "CloudGuardianApirepoownerOPTIONS1D4D99F0",
    "CloudGuardianApirepoownerD2744236",
    "CloudGuardianApirepoOPTIONS698D32FD",
    "CloudGuardianApirepo0F6876A3",
    "CloudGuardianApiwebhookOPTIONS8AF914FA",
    "CloudGuardianApiwebhookPOSTEC61FD76",
    "CloudGuardianApiwebhook76FE3BE9"
   ],
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CloudGuardianApi/Deployment/Resource",
    "aws:cdk:do-not-refactor": true
   }
  },
  "CloudGuardianApiDeploymentStageprod4DA17B3E": {
   "Type": "AWS::ApiGateway::Stage",
   "Properties": {
    "DeploymentId": {
     "Ref": "CloudGuardianApiDeployment87E14234d820c5948262c8ed9b73f4f8ceeb50de"
    },
    "RestApiId": {
     "Ref": "CloudGuardianApiF972561C"
    },
    "StageName": "prod"
   },
   "DependsOn": [
    "CloudGuardianApiAccount9A2CDBF5"
   ],
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CloudGuardianApi/DeploymentStage.prod/Resource"
   }
  },
  "CloudGuardianApiOPTIONSE677E9E1": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Fn::GetAtt": [
      "CloudGuardianApiF972561C",
      "RootResourceId"
     ]
    },
    "RestApiId": {
     "Ref": "CloudGuardianApiF972561C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CloudGuardianApi/Default/OPTIONS/Resource"
   }
  },
  "CloudGuardianApibackfillA47291D4": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "CloudGuardianApiF972561C",
      "RootResourceId"
     ]
    },
    "PathPart": "backfill",
    "RestApiId": {
     "Ref": "CloudGuardianApiF972561C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CloudGuardianApi/Default/backfill/Resource"
   }
  },
  "CloudGuardianApibackfillOPTIONSFDC13D46": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "CloudGuardianApibackfillA47291D4"
    },
    "RestApiId": {
     "Ref": "CloudGuardianApiF972561C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CloudGuardianApi/Default/backfill/OPTIONS/Resource"
   }
  },
  "CloudGuardianApibackfillPOSTApiPermissionCloudGuardianStackCloudGuardianApi7FE0FA17POSTbackfill28C7A667": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "BackfillCoordinator9E054EF1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:135808934664:",
       {
        "Ref": "CloudGuardianApiF972561C"
       },
       "/",
       {
        "Ref": "CloudGuardianApiDeploymentStageprod4DA17B3E"
       },
       "/POST/backfill"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CloudGuardianApi/Default/backfill/POST/ApiPermission.CloudGuardianStackCloudGuardianApi7FE0FA17.POST..backfill"
   }
  },
  "CloudGuardianApibackfillPOSTApiPermissionTestCloudGuardianStackCloudGuardianApi7FE0FA17POSTbackfill48B00455": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "BackfillCoordinator9E054EF1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:135808934664:",
       {
        "Ref": "CloudGuardianApiF972561C"
       },
       "/test-invoke-stage/POST/backfill"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CloudGuardianApi/Default/backfill/POST/ApiPermission.Test.CloudGuardianStackCloudGuardianApi7FE0FA17.POST..backfill"
   }
  },
  "CloudGuardianApibackfillPOSTA870A606": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "BackfillCoordinator9E054EF1",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "CloudGuardianApibackfillA47291D4"
    },
    "RestApiId": {
     "Ref": "CloudGuardianApiF972561C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CloudGuardianApi/Default/backfill/POST/Resource"
   }
  },
  "CloudGuardianApiwebhook76FE3BE9": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "CloudGuardianApiF972561C",
      "RootResourceId"
     ]
    },
    "PathPart": "webhook",
    "RestApiId": {
     "Ref": "CloudGuardianApiF972561C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CloudGuardianApi/Default/webhook/Resource"
   }
  },
  "CloudGuardianApiwebhookOPTIONS8AF914FA": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "CloudGuardianApiwebhook76FE3BE9"
    },
    "RestApiId": {
     "Ref": "CloudGuardianApiF972561C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CloudGuardianApi/Default/webhook/OPTIONS/Resource"
   }
  },
  "CloudGuardianApiwebhookPOSTApiPermissionCloudGuardianStackCloudGuardianApi7FE0FA17POSTwebhook17DB2A92": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "WebhookRouter05ECC1AC",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:135808934664:",
       {
        "Ref": "CloudGuardianApiF972561C"
       },
       "/",
       {
        "Ref": "CloudGuardianApiDeploymentStageprod4DA17B3E"
       },
       "/POST/webhook"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CloudGuardianApi/Default/webhook/POST/ApiPermission.CloudGuardianStackCloudGuardianApi7FE0FA17.POST..webhook"
   }
  },
  "CloudGuardianApiwebhookPOSTApiPermissionTestCloudGuardianStackCloudGuardianApi7FE0FA17POSTwebhook8ACA1DD4": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "WebhookRouter05ECC1AC",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:135808934664:",
       {
        "Ref": "CloudGuardianApiF972561C"
       },
       "/test-invoke-stage/POST/webhook"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CloudGuardianApi/Default/webhook/POST/ApiPermission.Test.CloudGuardianStackCloudGuardianApi7FE0FA17.POST..webhook"
   }
  },
  "CloudGuardianApiwebhookPOSTEC61FD76": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "WebhookRouter05ECC1AC",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "CloudGuardianApiwebhook76FE3BE9"
    },
    "RestApiId": {
     "Ref": "CloudGuardianApiF972561C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CloudGuardianApi/Default/webhook/POST/Resource"
   }
  },
  "CloudGuardianApirepo0F6876A3": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "CloudGuardianApiF972561C",
      "RootResourceId"
     ]
    },
    "PathPart": "repo",
    "RestApiId": {
     "Ref": "CloudGuardianApiF972561C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CloudGuardianApi/Default/repo/Resource"
   }
  },
  "CloudGuardianApirepoOPTIONS698D32FD": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "CloudGuardianApirepo0F6876A3"
    },
    "RestApiId": {
     "Ref": "CloudGuardianApiF972561C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CloudGuardianApi/Default/repo/OPTIONS/Resource"
   }
  },
  "CloudGuardianApirepoownerD2744236": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "CloudGuardianApirepo0F6876A3"
    },
    "PathPart": "{owner}",
    "RestApiId": {
     "Ref": "CloudGuardianApiF972561C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CloudGuardianApi/Default/repo/{owner}/Resource"
   }
  },
  "CloudGuardianApirepoownerOPTIONS1D4D99F0": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "CloudGuardianApirepoownerD2744236"
    },
    "RestApiId": {
     "Ref": "CloudGuardianApiF972561C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CloudGuardianApi/Default/repo/{owner}/OPTIONS/Resource"
   }
  },
  "CloudGuardianApirepoownernameB5AB33A8": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "CloudGuardianApirepoownerD2744236"
    },
    "PathPart": "{name}",
    "RestApiId": {
     "Ref": "CloudGuardianApiF972561C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CloudGuardianApi/Default/repo/{owner}/{name}/Resource"
   }
  },
  "CloudGuardianApirepoownernameOPTIONSBF8F6749": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "CloudGuardianApirepoownernameB5AB33A8"
    },
    "RestApiId": {
     "Ref": "CloudGuardianApiF972561C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CloudGuardianApi/Default/repo/{owner}/{name}/OPTIONS/Resource"
   }
  },
  "CloudGuardianApirepoownernamelanguages8B2445DE": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "CloudGuardianApirepoownernameB5AB33A8"
    },
    "PathPart": "languages",
    "RestApiId": {
     "Ref": "CloudGuardianApiF972561C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CloudGuardianApi/Default/repo/{owner}/{name}/languages/Resource"
   }
  },
  "CloudGuardianApirepoownernamelanguagesOPTIONS7BE8E201": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "CloudGuardianApirepoownernamelanguages8B2445DE"
    },
    "RestApiId": {
     "Ref": "CloudGuardianApiF972561C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CloudGuardianApi/Default/repo/{owner}/{name}/languages/OPTIONS/Resource"
   }
  },
  "CloudGuardianApirepoownernamelanguagesGETApiPermissionCloudGuardianStackCloudGuardianApi7FE0FA17GETrepoownernamelanguages740B4CB7": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "LanguageFetcher20DF511E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:135808934664:",
       {
        "Ref": "CloudGuardianApiF972561C"
       },
       "/",
       {
        "Ref": "CloudGuardianApiDeploymentStageprod4DA17B3E"
       },
       "/GET/repo/*/*/languages"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CloudGuardianApi/Default/repo/{owner}/{name}/languages/GET/ApiPermission.CloudGuardianStackCloudGuardianApi7FE0FA17.GET..repo.{owner}.{name}.languages"
   }
  },
  "CloudGuardianApirepoownernamelanguagesGETApiPermissionTestCloudGuardianStackCloudGuardianApi7FE0FA17GETrepoownernamelanguagesFFB543C3": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "LanguageFetcher20DF511E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:135808934664:",
       {
        "Ref": "CloudGuardianApiF972561C"
       },
       "/test-invoke-stage/GET/repo/*/*/languages"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CloudGuardianApi/Default/repo/{owner}/{name}/languages/GET/ApiPermission.Test.CloudGuardianStackCloudGuardianApi7FE0FA17.GET..repo.{owner}.{name}.languages"
   }
  },
  "CloudGuardianApirepoownernamelanguagesGET24B4E438": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "LanguageFetcher20DF511E",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "CloudGuardianApirepoownernamelanguages8B2445DE"
    },
    "RestApiId": {
     "Ref": "CloudGuardianApiF972561C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CloudGuardianApi/Default/repo/{owner}/{name}/languages/GET/Resource"
   }
  },
  "CDKMetadata": {
   "Type": "AWS::CDK::Metadata",
   "Properties": {
    "Analytics": "v2:deflate64:H4sIAAAAAAAA/02QTW+DMAyGf0vvqdfSy660027dJro7MsFl4SNB2BlCiP8+JbB1p/exHb+2k0ByTOCww5H3umz2rSlgvgnqRuHI+VxOFjtXFjB/YtGSutxthEW12BUl5taVVDO8RXn1VotxVhnsYM7c2hD1w7VGTyFcaVF8ypGZhCENovgEZ68bkjMybfYwX+72zzU009AZZuPsorA3FQqNOMGcEUvamzjuganWzltRL9S3burISsj+i26CVdxxhYzY+UFT3OBK8uXKUNzot7oNibwsj3Q8IxgZW4U37156L4sKXwQ1P30nCRyf4bCr2Zj94K2YjiBb9QcV0oiriQEAAA=="
   },
   "Metadata": {
    "aws:cdk:path": "CloudGuardianStack/CDKMetadata/Default"
   }
  }
 },
 "Outputs": {
  "CloudGuardianApiEndpointD29E5778": {
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "CloudGuardianApiF972561C"
      },
      ".execute-api.us-east-1.",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "CloudGuardianApiDeploymentStageprod4DA17B3E"
      },
      "/"
     ]
    ]
   }
  },
  "ApiGatewayUrl": {
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "CloudGuardianApiF972561C"
      },
      ".execute-api.us-east-1.",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "CloudGuardianApiDeploymentStageprod4DA17B3E"
      },
      "/"
     ]
    ]
   }
  },
  "BackfillEndpoint": {
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "CloudGuardianApiF972561C"
      },
      ".execute-api.us-east-1.",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "CloudGuardianApiDeploymentStageprod4DA17B3E"
      },
      "/backfill"
     ]
    ]
   }
  },
  "LanguagesEndpointExample": {
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "CloudGuardianApiF972561C"
      },
      ".execute-api.us-east-1.",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "CloudGuardianApiDeploymentStageprod4DA17B3E"
      },
      "/repo/octocat/hello-world/languages"
     ]
    ]
   }
  },
  "WebhookEndpoint": {
   "Description": "URL to configure in GitHub webhook settings",
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "CloudGuardianApiF972561C"
      },
      ".execute-api.us-east-1.",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "CloudGuardianApiDeploymentStageprod4DA17B3E"
      },
      "/webhook"
     ]
    ]
   }
  }
 },
 "Parameters": {
  "BootstrapVersion": {
   "Type": "AWS::SSM::Parameter::Value<String>",
   "Default": "/cdk-bootstrap/hnb659fds/version",
   "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
  }
 },
 "Rules": {
  "CheckBootstrapVersion": {
   "Assertions": [
    {
     "Assert": {
      "Fn::Not": [
       {
        "Fn::Contains": [
         [
          "1",
          "2",
          "3",
          "4",
          "5"
         ],
         {
          "Ref": "BootstrapVersion"
         }
        ]
       }
      ]
     },
     "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI."
    }
   ]
  }
 }
}